<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Natalie Rose Dionne">

<title>Beyond Fangs and Fur: A Network Examination of Homophily in the Twilight Franchise</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Natalie_files/libs/clipboard/clipboard.min.js"></script>
<script src="Natalie_files/libs/quarto-html/quarto.js"></script>
<script src="Natalie_files/libs/quarto-html/popper.min.js"></script>
<script src="Natalie_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Natalie_files/libs/quarto-html/anchor.min.js"></script>
<link href="Natalie_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Natalie_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Natalie_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Natalie_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Natalie_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Beyond Fangs and Fur: A Network Examination of Homophily in the Twilight Franchise</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Natalie Rose Dionne </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p><img src="images/Edward-Bella-Jacob-twilighters-31600408-500-356.jpg" class="img-fluid"></p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Have you ever wondered about the twilight series? The tale of one girl and two boys entangled in a love triangle. Despite belonging to distinct families and originating from different species—werewolf, vampire, and human—friendships are forged, kisses exchanged… ties are formed. However, the question arises: Do these connections persistently reflect the fundamental characteristics (species, gender, and family) the characters so desperately fight to overcome?</p>
<section id="methodological-approach" class="level3">
<h3 class="anchored" data-anchor-id="methodological-approach">Methodological Approach</h3>
<p>This study<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> undertakes a rigorous examination of network data derived from the Twilight and New Moon installments, focusing specifically on the role of homophily within character connections. The analytical framework comprises Walktrap community detection as the initial step, followed by an examination of EI Indexes, Conditional Uniform Graphs (CUGs), and Quadratic Assignment Procedure (QAPs) tests.</p>
</section>
<section id="data" class="level3">
<h3 class="anchored" data-anchor-id="data">Data</h3>
<p>The dataset utilized for this investigation is sourced from <a href="https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/T4HBA3/NGCUG9&amp;version=3.0&amp;toolType=PREVIEW">Havard Dataverse</a><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, encompassing two distinct data files related to Twilight and Twilight: New Moon. In each movie, nodes represent individual speaking characters, and ties are defined by instances of characters conversing on screen together. Consequently, two networks are generated, comprising 31 and 36 nodes, respectively, interconnected by weighted undirected ties. Additionally, character attributes such as family, gender, and species were incorporated into a .csv file based on personal knowledge of the movie franchise.</p>
</section>
</section>
<section id="the-network" class="level2">
<h2 class="anchored" data-anchor-id="the-network">The Network</h2>
<section id="twilight" class="level4">
<h4 class="anchored" data-anchor-id="twilight">Twilight</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(<span class="fu">autographr</span>(twilightmut, <span class="at">edge_size=</span><span class="st">"size"</span>,<span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">node_color =</span> <span class="st">"gender"</span>, <span class="at">node_group =</span> <span class="st">"family"</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">" Twilight Network Grouped by Family"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>))  <span class="sc">|</span> <span class="fu">autographr</span>(twilightmut, <span class="at">edge_size=</span><span class="st">"size"</span>,<span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">node_color =</span> <span class="st">"gender"</span>, <span class="at">node_group =</span> <span class="st">"species"</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">" Twilight Network Grouped by Species"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="new-moon" class="level4">
<h4 class="anchored" data-anchor-id="new-moon">New Moon</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(<span class="fu">autographr</span>(newmoonmut, <span class="at">edge_size=</span><span class="st">"size"</span>,<span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">node_color =</span> <span class="st">"gender"</span>, <span class="at">node_group =</span> <span class="st">"family"</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">" New Moon Network Grouped by Family"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>))  <span class="sc">|</span>  <span class="fu">autographr</span>(newmoonmut, <span class="at">edge_size=</span><span class="st">"size"</span>,<span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">node_color =</span> <span class="st">"gender"</span>, <span class="at">node_group =</span> <span class="st">"species"</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">" New Moon Network Grouped by Species"</span>)  <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>The number of groups was reduced since there were groups with less than 2 nodes.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Natalie_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="community-analysis" class="level3">
<h3 class="anchored" data-anchor-id="community-analysis">Community Analysis</h3>
<section id="twilight-1" class="level4">
<h4 class="anchored" data-anchor-id="twilight-1">Twilight</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="Natalie_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="new-moon-1" class="level4">
<h4 class="anchored" data-anchor-id="new-moon-1">New Moon</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="Natalie_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The above network graph reveals Walktrap clustering occurring predominantly along family and/or species lines, prompting further investigation through the application of CUG and QAP tests to assess homophily.</p>
</section>
</section>
</section>
<section id="hypotheses" class="level2">
<h2 class="anchored" data-anchor-id="hypotheses">Hypotheses</h2>
<p>Given the primary focus on understanding the impact of homophily on character interactions within the Twilight franchise, the following hypotheses are posited:</p>
<p><strong>H1</strong>: Characters from the same species are more likely to share a tie.</p>
<p><strong>H2</strong>: Characters from the same family are more likely to share a tie.</p>
<p><strong>H3</strong>: Characters from the same gender are more likely to share a tie</p>
</section>
<section id="results-and-discussion" class="level2">
<h2 class="anchored" data-anchor-id="results-and-discussion">Results and Discussion</h2>
<section id="examination-of-ei-indexes" class="level3">
<h3 class="anchored" data-anchor-id="examination-of-ei-indexes">Examination of EI Indexes</h3>
<section id="twilight-species-gender-family" class="level4">
<h4 class="anchored" data-anchor-id="twilight-species-gender-family">Twilight (Species, Gender, Family)</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.167</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.174</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.235</code></pre>
</div>
</div>
</section>
<section id="new-moon-species-gender-family" class="level4">
<h4 class="anchored" data-anchor-id="new-moon-species-gender-family">New Moon (Species, Gender, Family)</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.00422</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.122</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.198</code></pre>
</div>
</div>
<p>Upon scrutinizing the EI Indexes, it is observed that the scores for both movies and all variables are fairly close to 0. This initial analysis indicates a lack of discernible homophily (-1) or heterophily (1) within the Twilight franchise network. However, this score does not compare network homophily for specific character attributes with a randomly generated network of equivalent size and density. To assess the significance of these scores, CUG and QAP tests are employed to determine if the observed homophily or heterophily deviates from chance expectations.</p>
</section>
</section>
<section id="cug-tests" class="level3">
<h3 class="anchored" data-anchor-id="cug-tests">CUG Tests</h3>
<section id="twilight-2" class="level4">
<h4 class="anchored" data-anchor-id="twilight-2">Twilight</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="Natalie_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="new-moon-2" class="level4">
<h4 class="anchored" data-anchor-id="new-moon-2">New Moon</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="Natalie_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The outcomes of the CUG Tests, which involve the random generation of networks with identical size and density, reveal statistically significant homophily for species and family in both the Twilight and New Moon networks. Although the coefficients closely approach 0 (as previously indicated), all randomly generated networks consistently exhibit larger EI scores. Consequently, there is a significantly more homophily present than expected by randomization, lending support to <strong>H1</strong> and <strong>H2</strong>.</p>
<p>Interestingly, the CUG Test results pertaining to gender yield intriguing findings. Specifically, no evidence of homophily for gender is observed in Twilight, whereas New Moon exhibits significant homophily for gender. This presents conflicting evidence for <strong>H3</strong>, suggesting an evolving significance of gender in character interactions as the series progresses.</p>
</section>
</section>
<section id="qap-tests" class="level3">
<h3 class="anchored" data-anchor-id="qap-tests">QAP Tests</h3>
<section id="twilight-3" class="level4">
<h4 class="anchored" data-anchor-id="twilight-3">Twilight</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="Natalie_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="new-moon-3" class="level4">
<h4 class="anchored" data-anchor-id="new-moon-3">New Moon</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="Natalie_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Considering the networks’ cinematic nature characterized by a few central characters, a QAP test is deemed more appropriate due to its ability to maintain network structure while randomly reassigning variables.</p>
<p>This analysis yields similar results. Notably, for both Twilight and New Moon, homophily for family holds the highest significance within the respective networks. At this significant level, the null hypothesis is confidently rejected in favor of <strong>H2</strong>, asserting that characters from the same family are significantly more likely to share a tie.</p>
<p>While family homophily attains the highest significance, there is still a notable level of homophily for species in both Twilight and New Moon. This reinforces <strong>H1</strong>, suggesting that characters sharing the same species are more likely to share ties. It is noteworthy that the significance level for homophily for species undergoes a shift when the network structure is preserved, implying a certain degree of heterogeneity in species within this particular network structure compared to random.</p>
<p>At the lowest significance thresholds inconclusive results persist for <strong>H3</strong>.</p>
</section>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>This analysis indicates that within the werewolf-vampire-human realm, characters don’t surpass their familial bonds or their species diversity to establish communication-based connections. Thus, each time Bella kisses Edward or expresses feelings to Jacob, she is not merely contending with her emotions but also grappling with the powerful family and species homophily entrenched within the Twilight network.</p>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Migraph version 1.1.9 and Manynet version 0.2.10 were used<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Kaminski, Jermain; Schober, Michael; Albaladejo, Raymond; Zastupailo, Oleksandr; Hidalgo, César, 2018, “network_metadata.tab”, <em>Moviegalaxies - Social Networks in Movies</em>, <a href="https://doi.org/10.7910/DVN/T4HBA3/NGCUG9" class="uri">https://doi.org/10.7910/DVN/T4HBA3/NGCUG9</a>, Harvard Dataverse, V3<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>